<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Панель воркера</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; }
        input, button { padding: 10px; margin: 10px 0; width: 100%; }
        button { background-color: #007bff; color: white; border: none; cursor: pointer; }
        button:hover { background-color: #0056b3; }
        #result { margin-top: 20px; }
    </style>
</head>
<body>
    <h1>Генератор реферальной ссылки</h1>
    <form id="workerForm">
        <label for="nick">Твой Telegram-ник (без @):</label><br>
        <input type="text" id="nick" placeholder="например, mynick" required><br>
        <button type="submit">Сгенерировать ссылку</button>
    </form>
    <p id="result"></p>

    <script>
        document.getElementById('workerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const nick = document.getElementById('nick').value.trim();
            if (!nick) {
                alert('Введи ник!');
                return;
            }
            // Кодируем ник в Base64
            const refCode = btoa(nick);
            const refLink = `https://new-l8h6.onrender.com/?ref=${encodeURIComponent(refCode)}`;
            document.getElementById('result').innerHTML = `Твоя уникальная ссылка: <strong><a href="${refLink}" target="_blank">${refLink}</a></strong><br>Рассылай её клиентам!`;
        });
    </script>
</body>
</html>
